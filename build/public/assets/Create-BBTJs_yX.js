import{L as g}from"./Layout-BiShtRex.js";import{T as b,a as u,l as y,f as R,o as d,b as t,w as i,d as c,c as _,x as h,v as w}from"./app-0IfQhdzz.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={__name:"Create",props:{availableResources:Array},setup(m,{expose:o}){o();const a=m,e=b({name:"",resources:[]}),l={props:a,form:e,addResource:()=>{e.resources.push({selectedResource:null,id:null,quantity:1})},removeResource:s=>{e.resources.splice(s,1)},updateResourceId:s=>{const r=e.resources[s];r.selectedResource&&(r.id=r.selectedResource.id)},submit:()=>{const s=e.resources.reduce((r,n)=>(n.id&&(r[n.id]={quantity:n.quantity}),r),{});e.post("/items",{data:{name:e.name,type:"Ceinture",resources:s}})},Layout:g,get useForm(){return b}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}},k={class:"bg-gray-100 min-h-screen flex items-center justify-center"},I={class:"bg-white p-8 rounded-lg shadow-md w-full max-w-md"},U={class:"mb-4"},q={class:"mb-4"},B={class:"flex-grow mr-2"},L={class:"w-32"},N=["onClick"],S=["disabled"];function j(m,o,a,e,v,x){const p=u("InputText"),f=u("Select"),l=u("InputNumber");return d(),y(e.Layout,{backUrl:"/items"},{default:R(()=>[t("div",k,[t("div",I,[o[4]||(o[4]=t("h1",{class:"text-2xl font-bold text-gray-800 mb-6"},"Créer un nouvel item",-1)),t("form",{onSubmit:i(e.submit,["prevent"])},[t("div",U,[o[1]||(o[1]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Nom",-1)),c(p,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.name=s),class:"w-full"},null,8,["modelValue"])]),t("div",q,[o[3]||(o[3]=t("label",{class:"block text-sm font-medium text-gray-700"},"Ressources",-1)),(d(!0),_(w,null,h(e.form.resources,(s,r)=>(d(),_("div",{key:r,class:"flex items-center mt-2"},[t("div",B,[c(f,{modelValue:s.selectedResource,"onUpdate:modelValue":n=>s.selectedResource=n,options:a.availableResources,optionLabel:"name",placeholder:"Ajouter une ressource",class:"w-full",filter:"",onChange:n=>e.updateResourceId(r)},null,8,["modelValue","onUpdate:modelValue","options","onChange"])]),t("div",L,[c(l,{modelValue:s.quantity,"onUpdate:modelValue":n=>s.quantity=n,mode:"decimal",showButtons:"",min:1,max:99999,fluid:""},null,8,["modelValue","onUpdate:modelValue"])]),t("button",{onClick:i(n=>e.removeResource(r),["prevent"]),class:"ml-2 text-red-600 hover:text-red-800"},[...o[2]||(o[2]=[t("i",{class:"pi pi-times"},null,-1)])],8,N)]))),128)),t("button",{onClick:i(e.addResource,["prevent"]),class:"mt-2 text-indigo-600 hover:text-indigo-800"}," + Ajouter une ressource ")]),t("button",{type:"submit",class:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300",disabled:e.form.processing}," Créer ",8,S)],32)])])]),_:1})}const z=C(V,[["render",j],["__file","/Users/florian/Desktop/recipz/inertia/pages/Items/Create.vue"]]);export{z as default};
