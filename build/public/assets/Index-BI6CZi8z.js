import{L as w}from"./Layout-BiShtRex.js";import{r as m,k as x,l as y,f as l,i as _,T as k,o as n,b as e,z as b,A as L,d as f,g as I,c as i,x as g,v as h,t as d}from"./app-0IfQhdzz.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={__name:"Index",props:{items:Array},setup(c,{expose:t}){t();const a=c,s=m(""),u=x(()=>a.items.filter(o=>o.name.toLowerCase().includes(s.value.toLowerCase()))),r={props:a,filter:s,filteredItems:u,deleteItem:async o=>{if(confirm("Êtes-vous sûr de vouloir supprimer cet item ?"))try{(await fetch(`/items/${o}`,{method:"DELETE"})).ok?location.reload():console.error("Failed to delete item.")}catch(p){console.error("Error deleting item:",p)}},Layout:w,ref:m,computed:x,get Link(){return _},get useForm(){return k}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},E={class:"bg-gray-100 min-h-screen"},V={class:"container mx-auto px-4 py-8"},j={class:"flex justify-between items-center mb-4"},A={class:"bg-white rounded-lg shadow-md overflow-hidden"},D={class:"w-full"},F={class:"divide-y divide-gray-200"},M={class:"px-6 py-4 whitespace-nowrap text-gray-500"},N={class:"px-6 py-4 text-gray-500"},T={class:"px-6 py-4 whitespace-nowrap"},z=["onClick"];function H(c,t,a,s,u,v){return n(),y(s.Layout,{backUrl:"/"},{default:l(()=>[e("div",E,[e("div",V,[t[5]||(t[5]=e("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Liste des Items",-1)),e("div",j,[b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.filter=r),type:"text",placeholder:"Filtrer par nom",class:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[L,s.filter]]),f(s.Link,{href:"/items/create",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105"},{default:l(()=>t[1]||(t[1]=[I(" Créer un nouvel item ")])),_:1})]),e("div",A,[e("table",D,[t[4]||(t[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nom "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ressources "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",F,[(n(!0),i(h,null,g(s.filteredItems,r=>(n(),i("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",M,d(r.name),1),e("td",N,[e("ul",null,[(n(!0),i(h,null,g(r.resources,o=>(n(),i("li",{key:o.id},d(o.name)+" - Quantité: "+d(o.quantity_required),1))),128))])]),e("td",T,[f(s.Link,{href:`/items/${r.id}/edit`,class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:l(()=>[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:2},1032,["href"]),e("button",{onClick:o=>s.deleteItem(r.id),class:"text-red-600 hover:text-red-900"},[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,z)])]))),128))])])])])])]),_:1})}const O=C(B,[["render",H],["__file","/Users/florian/Desktop/recipz/inertia/pages/Items/Index.vue"]]);export{O as default};
